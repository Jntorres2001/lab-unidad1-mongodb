// Archivo: src/05-schema/validation.mongodb
// --------------------------------------------
// Validaci贸n del esquema para la colecci贸n 'productos'
// Evita datos inconsistentes y garantiza tipos correctos
// --------------------------------------------
use('techstore');

db.createCollection("productos", {
  validator: {
    $jsonSchema: {
      bsonType: "object",
      required: ["nombre", "sku", "precio", "stock", "tipo_producto"],
      properties: {
        nombre: { bsonType: "string" },
        sku: { bsonType: "string" },
        precio: { bsonType: "number" },
        stock: { bsonType: "number" },
        tipo_producto: {
          enum: ["Laptop", "Smartphone", "Monitor"],
          description: "Debe ser un tipo v谩lido"
        },
        especificaciones: {
          bsonType: "object",
          description: "Contiene atributos espec铆ficos del producto"
        }
      }
    }
  }
});

print("З Validaci贸n JSON Schema creada para la colecci贸n 'productos'");
